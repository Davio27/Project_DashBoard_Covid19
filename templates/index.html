<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard COVID-19</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson@3"></script>
    <script src="https://unpkg.com/versor@0.2/dist/versor.min.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body class="bg-gray-50 font-sans">
    <!-- Bot√£o de Altern√¢ncia de Tema -->
    <button onclick="alternarTema()" class="theme-toggle" title="Alternar tema">
        <span class="theme-icon">üåô</span>
    </button>

    <!-- Dashboard Principal -->
    <div id="dashboardContent">
        <!-- Header -->
        <header class="gradient-bg text-white py-6 mb-8">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center">
                    <div class="flex-1 text-center">
                        <h1 class="text-3xl font-bold">Dashboard COVID-19</h1>
                        <p class="mt-2 opacity-90">Monitoramento Global em Tempo Real</p>
                    </div>
                    <button onclick="logout()"
                        class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                clip-rule="evenodd" />
                        </svg>
                        <span>Sair</span>
                    </button>
                </div>
            </div>
        </header>

        <div class="container mx-auto px-4 max-w-7xl">
            <!-- Filtros -->
            <div class="bg-white rounded-lg card-shadow p-6 mb-8">
                <h2 class="text-xl font-semibold mb-4 text-gray-800">Status Regi√£o Brasil</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Pa√≠s/Regi√£o</label>
                        <select id="countryFilter"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="Brasil">Brasil</option>
                            <option value="Sudeste">Sudeste</option>
                            <option value="Centro-Oeste">Centro-Oeste</option>
                            <option value="Sul">Sul</option>
                            <option value="Nordeste">Nordeste</option>
                            <option value="Norte">Norte</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Per√≠odo</label>
                        <select id="periodFilter"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="full" selected>Full</option>
                            <option value="30">√öltimos 30 dias</option>
                            <option value="90">√öltimos 3 meses</option>
                            <option value="180">√öltimos 6 meses</option>
                            <option value="365">√öltimo ano</option>
                            <option value="730">2 √öltimos anos</option>
                        </select>
                    </div>
                    <div class="flex items-end">
                        <button onclick="updateDashboard()"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                            Atualizar Dados
                        </button>
                    </div>
                </div>
            </div>

            <!-- Cards de Indicadores Principais -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Total de Casos -->
                <div class="bg-white rounded-lg card-shadow p-6 border-l-4 border-blue-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Casos Confirmados</p>
                            <p id="totalCases" class="text-2xl font-bold text-blue-600">Carregando...</p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Total de Mortes -->
                <div class="bg-white rounded-lg card-shadow p-6 border-l-4 border-red-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Mortes Confirmadas</p>
                            <p id="totalDeaths" class="text-2xl font-bold text-red-600">Carregando...</p>
                        </div>
                        <div class="bg-red-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Total de Recuperados -->
                <div class="bg-white rounded-lg card-shadow p-6 border-l-4 border-green-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Recuperados</p>
                            <p id="totalRecovered" class="text-2xl font-bold text-green-600">Carregando...</p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Casos Ativos -->
                <div class="bg-white rounded-lg card-shadow p-6 border-l-4 border-orange-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Suspeitas</p>
                            <p id="activeCases" class="text-2xl font-bold text-orange-600">Carregando...</p>
                        </div>
                        <div class="bg-orange-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5z" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gr√°fico de Evolu√ß√£o Temporal -->
            <div class="bg-white rounded-lg card-shadow p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold">Evolu√ß√£o Temporal de Casos no Brasil</h3>
                    <div class="flex space-x-2">
                        <button onclick="toggleDataset('cases')" id="toggleCases"
                            class="px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors flex">Casos</button>
                        <button onclick="toggleDataset('recovered')" id="toggleRecovered"
                                class="px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors flex">Recuperados</button>
                        <button onclick="toggleDataset('deaths')" id="toggleDeaths"
                            class="px-3 py-1 text-xs bg-red-100 text-red-700 rounded-full hover:bg-red-200 transition-colors flex">Mortes</button>
                        <button onclick="toggleDataset('suspects')" id="toggleSuspects"
                            class="px-3 py-1 text-xs bg-yellow-100 text-yellow-700 rounded-full hover:bg-yellow-200 transition-colors flex">Suspeitos</button>
                        <select id="stateFilter"
                            class="px-3 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 flex">
                            <option value="">Todos os Estados</option>
                            <!-- Op√ß√µes ser√£o adicionadas dinamicamente via JS -->
                        </select>
                    </div>
                </div>
                <div class="relative h-80">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>

            <!-- Gr√°fico de Barras - Top 10 Pa√≠ses -->
            <div class="bg-white rounded-lg card-shadow p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Top 10 Pa√≠ses</h3>
                    <select id="chartMetric" onchange="updateCountriesChart()"
                        class="px-3 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="cases">Casos Confirmados</option>
                        <option value="deaths">Total de Mortes</option>
                        <option value="recovered">Recuperados</option>
                        <option value="mortality">Taxa de Mortalidade</option>
                    </select>
                </div>
                <div class="relative h-80">
                    <canvas id="countriesChart"></canvas>
                </div>
            </div>

            <!-- Gr√°fico de Barras - Distribui√ß√£o por Estado -->
            <div class="bg-white rounded-lg card-shadow p-6 mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Distribui√ß√£o por Estados do Brasil</h3>
                    <select id="weeklyMetric" onchange="updateWeeklyTrendChart(globalEstadosData, this.value)"
                        class="px-3 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="cases">Casos Confirmados</option>
                        <option value="deaths">Total de Mortes</option>
                        <option value="recovered">Recuperados</option>
                    </select>
                </div>
                <div class="relative h-80">
                    <canvas id="weeklyTrendChart"></canvas>
                </div>
            </div>
        </div>



        <!-- Gr√°ficos Adicionais -->
        <div class="container mx-auto px-4 max-w-7xl">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 justify-center">
                <!-- Gr√°fico de Pizza - Distribui√ß√£o por Continente -->
                <div class="bg-white rounded-lg card-shadow p-6 w-full max-w-sm lg:max-w-none justify-center h-280">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Distribui√ß√£o por Continente</h3>
                    <div class="relative h-80 ml-10">
                        <canvas id="continentChart"></canvas>
                    </div>
                </div>
                <!-- Gr√°fico de Mapa do Brasil - Estados com Mais Casos -->
                <div class="bg-white rounded-lg card-shadow p-6 h-280">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Mapa de Casos por Estado no Brasil</h3>
                    <select id="mapMetric" onchange="renderBrazilMap(this.value)"
                        class="px-3 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="cases">Casos Confirmados</option>
                        <option value="deaths">Mortes</option>
                    </select>
                    <div class="relative h-[400px]">
                        <svg id="brazilMap" width="100%" height="100%"></svg> <!-- SVG para o mapa -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Mapa Mundial e Estat√≠sticas Detalhadas -->
        <div class="container mx-auto px-4 max-w-7xl mb-6">
            <!-- Mapa Mundial -->
            <div class="lg:col-span-2 bg-white rounded-lg card-shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Mapa Mundial - Intensidade de Casos</h3>
        
                <!-- Filtro M√©trica -->
                <div class="flex items-center space-x-2 mb-4">
                    <select id="metricFilter"
                        class="px-3 py-1 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="confirmed">Casos Confirmados</option>
                        <option value="deaths">Mortes</option>
                        <option value="recovered">Recuperados</option>
                    </select>
                </div>
        
                <!-- Globo 3D -->
                <div class=" relative flex justify-center border-2 border-gray-200 rounded-lg bg-blue-50">
                    <canvas id="globe" width="800" height="600"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <!-- Cont√™iner para limitar a largura -->
        <div class="max-w-[90%] mx-auto">
            <!-- Estat√≠sticas por Regi√£o -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <!-- Am√©rica -->
                <div id="america-stats" class="bg-white rounded-lg card-shadow p-6 border-l-4 border-blue-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Am√©rica</p>
                            <p id="americaCases" class="text-2xl font-bold text-blue-600">Carregando...</p>
                            <p class="text-xs text-gray-500 mt-1">Carregando...</p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                    </div>
                </div>
        
                <!-- Europa -->
                <div id="europa-stats" class="bg-white rounded-lg card-shadow p-6 border-l-4 border-green-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Europa</p>
                            <p id="europaCases" class="text-2xl font-bold text-green-600">Carregando...</p>
                            <p class="text-xs text-gray-500 mt-1">Carregando...</p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" />
                            </svg>
                        </div>
                    </div>
                </div>
        
                <!-- √Åsia -->
                <div id="asia-stats" class="bg-white rounded-lg card-shadow p-6 border-l-4 border-yellow-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">√Åsia</p>
                            <p id="asiaCases" class="text-2xl font-bold text-yellow-600">Carregando...</p>
                            <p class="text-xs text-gray-500 mt-1">Carregando...</p>
                        </div>
                        <div class="bg-yellow-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                                <path fill-rule="evenodd"
                                    d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                    clip-rule="evenodd" />
                            </svg>
                        </div>
                    </div>
                </div>
        
                <!-- √Åfrica -->
                <div id="africa-stats" class="bg-white rounded-lg card-shadow p-6 border-l-4 border-purple-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">√Åfrica</p>
                            <p id="africaCases" class="text-2xl font-bold text-purple-600">Carregando...</p>
                            <p class="text-xs text-gray-500 mt-1">Carregando...</p>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-full">
                            <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M10 20a10 10 0 100-20 10 10 0 000 20zM6.3 10a.7.7 0 11-1.4 0 .7.7 0 011.4 0zm4 0a.7.7 0 11-1.4 0 .7.7 0 011.4 0zm4 0a.7.7 0 11-1.4 0 .7.7 0 011.4 0z" />
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabela de Dados Detalhados -->
        <div class="col-span-2 detailed-country-data">
            <h2 class="text-xl font-bold mb-4">Dados Detalhados por Pa√≠s</h2>
            <table class="w-full bg-white shadow-md rounded-lg" id="countryTable">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-600 cursor-pointer"
                            data-sort="country">Pa√≠s <img width="16" height="16"
                                src="https://img.icons8.com/ios-filled/50/sort.png" alt="sort"
                                class="sort-icon inline-block ml-1" /></th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-600 cursor-pointer"
                            data-sort="confirmed">Casos Totais <img width="16" height="16"
                                src="https://img.icons8.com/ios-filled/50/sort.png" alt="sort"
                                class="sort-icon inline-block ml-1" /></th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-600 cursor-pointer"
                            data-sort="deaths">Mortes <img width="16" height="16"
                                src="https://img.icons8.com/ios-filled/50/sort.png" alt="sort"
                                class="sort-icon inline-block ml-1" /></th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-600 cursor-pointer"
                            data-sort="recovered">Recuperados <img width="16" height="16"
                                src="https://img.icons8.com/ios-filled/50/sort.png" alt="sort"
                                class="sort-icon inline-block ml-1" /></th>
                        <th class="px-6 py-3 text-left text-sm font-semibold text-gray-600 cursor-pointer"
                            data-sort="mortality">Taxa de Mortalidade <img width="16" height="16"
                                src="https://img.icons8.com/ios-filled/50/sort.png" alt="sort"
                                class="sort-icon inline-block ml-1" /></th>
                    </tr>
                </thead>
                <tbody id="countryTableBody"></tbody>
            </table>
            <div id="paginationContainer"></div> <!-- Adicionado -->
        </div>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-6 mt-12">
            <div class="container mx-auto px-4 text-center">
                <p>&copy; 2024 Dashboard COVID-19. Dados atualizados em tempo real.</p>
                <p class="text-sm text-gray-400 mt-2">Fonte: Organiza√ß√µes de Sa√∫de Mundiais</p>
            </div>
        </footer>
    </div>

    <!-- Bot√£o de Chat Flutuante -->
    <button id="chatButton" onclick="toggleChat()"
        class="fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-16 h-16 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 z-50">
        <svg id="chatIcon" class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd"
                d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z"
                clip-rule="evenodd" />
        </svg>
    </button>

    <!-- Chat Widget -->
    <div id="chatWidget"
        class="fixed bottom-24 right-6 w-96 h-96 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 transform transition-all duration-300 scale-0 origin-bottom-right">
        <!-- Chat Header -->
        <div class="bg-blue-600 text-white p-4 rounded-t-lg flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                    </svg>
                </div>
                <div>
                    <h3 class="font-semibold">Assistente COVID-19</h3>
                    <p class="text-xs opacity-90">Online agora</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-white hover:text-gray-200 transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                        clip-rule="evenodd" />
                </svg>
            </button>
        </div>

        <!-- Chat Messages -->
        <div id="chatMessages" class="flex-1 p-4 h-64 overflow-y-auto bg-gray-50">
            <div class="flex items-start space-x-2 mb-4">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                    </svg>
                </div>
                <div class="bg-white rounded-lg p-3 shadow-sm max-w-xs">
                    <p class="text-sm text-gray-800">Ol√°! üëã Sou seu assistente para dados COVID-19. Posso ajudar com
                        informa√ß√µes sobre casos, estat√≠sticas e tend√™ncias. Como posso ajudar?</p>
                </div>
            </div>
        </div>

        <!-- Chat Input -->
        <div class="p-4 border-t border-gray-200 bg-white rounded-b-lg">
            <div class="flex space-x-2">
                <input type="text" id="chatInput" placeholder="Digite sua pergunta..."
                    class="flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"
                    onkeypress="handleChatKeyPress(event)">
                <button onclick="sendMessage()"
                    class="bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                    </svg>
                </button>
            </div>

            <!-- Sugest√µes de Perguntas -->
            <div class="mt-3 flex flex-wrap gap-2">
                <button onclick="askQuestion('Qual pa√≠s tem mais casos?')"
                    class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full transition-colors">
                    Qual pa√≠s tem mais casos?
                </button>
                <button onclick="askQuestion('Como est√° a tend√™ncia no Brasil?')"
                    class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full transition-colors">
                    Tend√™ncia no Brasil?
                </button>
                <button onclick="askQuestion('Taxa de mortalidade global?')"
                    class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full transition-colors">
                    Taxa de mortalidade?
                </button>
            </div>
        </div>
    </div>
    </div>

    <!-- Modal para Munic√≠pios -->
    <div id="municipiosModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div
            class="bg-white dark:bg-gray-800 rounded-lg shadow-lg w-11/12 md:w-3/4 lg:w-2/3 max-h-[90%] overflow-hidden p-6 flex flex-col">
    
            <div class="flex justify-between items-center mb-4">
                <h2 id="municipiosTitle" class="text-xl font-bold text-white">Munic√≠pios</h2>
                <button onclick="closeMunicipiosModal()" class="text-gray-500 hover:text-red-500 text-xl">‚úñ</button>
            </div>
    
            <!-- Barra de pesquisa -->
            <input type="text" id="municipiosSearch" placeholder="Pesquisar munic√≠pio..."
                class="mb-4 p-2 border rounded focus:outline-none focus:ring focus:border-blue-300" />
    
            <!-- Tabela -->
            <div class="overflow-y-auto flex-1">
                <table class="min-w-full border-collapse" id="municipiosTable">
                    <thead class="bg-gray-100 sticky top-0 z-10">
                        <tr>
                            <th class="px-4 py-2 border-b text-left text-black">Munic√≠pio</th>
                            <th class="px-4 py-2 border-b text-left text-black">Popula√ß√£o</th>
                            <th class="px-4 py-2 border-b text-left text-black">Casos</th>
                            <th class="px-4 py-2 border-b text-left text-black">Mortes</th>
                        </tr>
                    </thead>
                    <tbody id="municipiosTableBody" class="bg-white"></tbody>
                </table>
            </div>
    
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>

</html>
